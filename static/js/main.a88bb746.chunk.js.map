{"version":3,"sources":["App.js","getSessionId.js","hello.js","StatefulAppWrapper.js","index.js"],"names":["App","Editors","handleContainerClick","e","i","focus","this","props","className","cX","cY","editors","lastFocus","onChange","map","x","y","editorProps","editorState","key","onClick","style","left","top","newState","ref","el","Component","adjectives","nouns","getSession","nAdjectives","length","nNouns","initialAdjectiveIdx","Math","floor","random","initialNounIdx","adjectiveOffset","nounOffset","noun","sessionId","window","localStorage","getItem","sessionPrefix","n","hellos","getHello","moveFocusToEnd","EditorState","StatefulAppWrapper","state","gridX","hash","controlMode","measure","container","ReactDOM","findDOMNode","Container","clientWidth","clientHeight","setState","load","location","slice","getSessionId","history","pushState","document","title","split","word","toUpperCase","join","rawDraftEditors","JSON","parse","editorRawContent","textAlignment","createWithContent","convertFromRaw","ContentState","createFromText","handleClick","metaKey","pageX","pageY","round","createEmpty","some","getSelection","getHasFocus","handleChange","newEditorState","updatedEditors","filter","getCurrentContent","hasText","stringify","j","convertToRaw","setItem","handleKeydown","editor","preventDefault","stopPropagation","toLowerCase","addEventListener","handleKeyup","removeEventListener","prevProps","prevState","GridProbe","offsetWidth","Array","fill","render","getElementById"],"mappings":"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","file":"static/js/main.a88bb746.chunk.js","sourcesContent":["import {Editor} from 'draft-js';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport './App.css';\n\n\nclass App extends Component {\n\tEditors = []\n\n\thandleContainerClick = (e, i) => {\n\t\tthis.Editors[i].focus();\n\t}\n\n\trender () {\n\t\tconst {className = '', cX, cY, editors, lastFocus, onChange} = this.props;\n\n\t\treturn <div className={`App ${className}`}>\n\t\t\t{editors.map(({x, y, editorProps, editorState}, i) => <div\n\t\t\t\t\tclassName={`App-editor${lastFocus === i ? ' focused' : ''}`}\n\t\t\t\t\tkey={i}\n\t\t\t\t\tonClick={e => this.handleContainerClick(e, i)}\n\t\t\t\t\tstyle={{left: cX + x, top: cY + y}}\n\t\t\t>\n\t\t\t\t<Editor\n\t\t\t\t\t{...editorProps}\n\t\t\t\t\teditorState={editorState}\n\t\t\t\t\tonChange={newState => onChange(newState, i)}\n\t\t\t\t\tref={el => this.Editors[i] = el}\n\t\t\t\t/>\n\t\t\t</div>)}\n\t\t</div>;\n\t}\n}\n\nApp.propTypes = {\n\tclassName: PropTypes.string,\n\teditors: PropTypes.arrayOf(PropTypes.object).isRequired,\n\tonChange: PropTypes.func.isRequired,\n\tlastFocus: PropTypes.number.isRequired,\n}\n\nexport default App;\n","// Returns a calm, memorable session ID that's not already in `localStorage`.\n\nconst adjectives = [\n\t'mossy',\n\t'moonlit',\n\t'foggy',\n\t'distant',\n\t'silent',\n\t'soothing',\n];\n\nconst nouns = [\n\t'brook',\n\t'meadow',\n\t'forest',\n\t'plane',\n\t'desert',\n\t'oasis',\n];\n\nexport default function getSession () {\n\tconst nAdjectives = adjectives.length, nNouns = nouns.length;\n\n\tconst initialAdjectiveIdx = Math.floor(Math.random() * nAdjectives);\n\tconst initialNounIdx = Math.floor(Math.random() * nNouns);\n\n\tfor (let adjectiveOffset = 0; adjectiveOffset < nAdjectives; ++adjectiveOffset) {\n\t\tfor (let nounOffset = 0; nounOffset < nNouns; ++nounOffset) {\n\t\t\tconst adjectiveIdx = (initialAdjectiveIdx + adjectiveOffset) % nAdjectives;\n\t\t\tconst nounIdx = (initialNounIdx + nounOffset) % nNouns;\n\t\t\tconst adjective = adjectives[adjectiveIdx];\n\t\t\tconst noun = nouns[nounIdx];\n\t\t\tconst sessionId = `${adjective}-${noun}`;\n\n\t\t\tif (!window.localStorage.getItem(sessionId)) return sessionId;\n\t\t}\n\t}\n\n\t// We've exhausted all possibilities. Now we start into the numbered IDs.\n\tconst sessionPrefix = `${adjectives[initialAdjectiveIdx]}-${nouns[initialNounIdx]}`;\n\tlet sessionId = 0, n = 1;\n\tdo {\n\t\tsessionId = `${sessionPrefix}-${++n}`\n\t} while (!window.localStorage.getItem(sessionId));\n\n\treturn sessionId;\n}\n","const hellos = [\n\t'Hello',\n\t'Ready',\n\t'Go on',\n];\n\nexport function getHello() {\n\treturn hellos[Math.floor(Math.random() * hellos.length)];\n}\n\nexport default hellos;\n","import {ContentState, convertFromRaw, convertToRaw, EditorState} from 'draft-js';\nimport React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport getSessionId from './getSessionId';\nimport {getHello} from './hello';\n\nconst {moveFocusToEnd} = EditorState;\n\n\nconst FONT_SIZE_PX = 13;\nconst LINE_HEIGHT_PX = 18;\n\nclass StatefulAppWrapper extends Component {\n\tstate = {cX: 0, cY: 0, gridX: null, hash: null, editors: [], lastFocus: 0, controlMode: false};\n\n\tcomponentDidMount () {\n\t\twindow.addEventListener('click', this.handleClick);\n\t\twindow.addEventListener('hashchange', this.load);\n\t\twindow.addEventListener('resize', this.measure);\n\t\twindow.addEventListener('keydown', this.handleKeydown);\n\t\twindow.addEventListener('keyup', this.handleKeyup);\n\t\tthis.load();\n\t}\n\n\tcomponentWillUnmount () {\n\t\twindow.removeEventListener('click', this.handleClick);\n\t\twindow.removeEventListener('hashchange', this.load);\n\t\twindow.removeEventListener('resize', this.measure);\n\t\twindow.removeEventListener('keydown', this.handleKeydown);\n\t\twindow.removeEventListener('keyup', this.handleKeyup);\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tconst {gridX} = this.state;\n\n\t\tif (typeof gridX !== 'number' && this.GridProbe) {\n\t\t\tthis.setState({gridX: ReactDOM.findDOMNode(this.GridProbe).offsetWidth / 1000});\n\t\t} else if (typeof prevState.gridX !== 'number') {\n\t\t\tthis.measure();\n\t\t}\n\t}\n\n\tmeasure = () => {\n\t\tconst container = ReactDOM.findDOMNode(this.Container);\n\t\tconst cX = container.clientWidth / 2;\n\t\tconst cY = container.clientHeight / 2;\n\n\t\tthis.setState({cX, cY});\n\t}\n\n\tload = () => {\n\t\tlet {hash} = window.location;\n\t\tif (hash) {\n\t\t\thash = hash.slice(1);\n\t\t} else {\n\t\t\thash = getSessionId();\n\t\t\twindow.history.pushState(null, null, `#${hash}`);\n\t\t}\n\n\t\tdocument.title = 'Write | ' + hash\n\t\t\t.split('-')\n\t\t\t.map(word => word[0].toUpperCase() + word.slice(1))\n\t\t\t.join(' ');\n\n\t\tconst rawDraftEditors = window.localStorage.getItem(hash);\n\t\tconst editors = rawDraftEditors\n\t\t\t? JSON.parse(rawDraftEditors).map(({x, y, editorRawContent}) => ({\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t\teditorProps: {textAlignment: 'center'},  // TODO(riley): Save and restore props.\n\t\t\t\teditorState: moveFocusToEnd(EditorState.createWithContent(\n\t\t\t\t\tconvertFromRaw(editorRawContent))),\n\t\t\t}))\n\t\t\t: [{\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\teditorProps: {textAlignment: 'center'},\n\t\t\t\teditorState: moveFocusToEnd(EditorState.createWithContent(\n\t\t\t\t\tContentState.createFromText(`${getHello()}.`))),\n\t\t\t}];\n\n\t\tthis.setState({hash, editors});\n\t}\n\n\thandleClick = ({metaKey, pageX, pageY}) => {\n\t\tif (metaKey) {\n\t\t\tthis.setState(({cX, cY, editors, lastFocus}) => ({\n\t\t\t\teditors: [\n\t\t\t\t\t...editors,\n\t\t\t\t\t{\n\t\t\t\t\t\t// TODO(riley): Some magic here.\n\t\t\t\t\t\t// TODO(riley): Latch to the grid on render, not on construction.\n\t\t\t\t\t\tx: Math.round((pageX - cX) / FONT_SIZE_PX) * FONT_SIZE_PX - 2,\n\t\t\t\t\t\ty: Math.round((pageY - cY) / LINE_HEIGHT_PX) * LINE_HEIGHT_PX,\n\t\t\t\t\t\teditorProps: {...editors[lastFocus].editorProps},\n\t\t\t\t\t\teditorState: moveFocusToEnd(EditorState.createEmpty()),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tlastFocus: editors.length,\n\t\t\t}));\n\t\t} else if (!this.state.editors.some(({editorState}) =>\n\t\t\t\teditorState.getSelection().getHasFocus())) {\n\t\t\tconst {Container: {Editors = []} = {}} = this;\n\t\t\tif (Editors.length) Editors[0].focus();\n\t\t}\n\t}\n\n\thandleChange = (newEditorState, i) => {\n\t\tconst {hash, editors, lastFocus} = this.state;\n\n\t\t// Update the focused Editor and remove any empty, unfocused ones.\n\t\tconst updatedEditors = [\n\t\t\t...editors.slice(0, i),\n\t\t\t{...editors[i], editorState: newEditorState},\n\t\t\t...editors.slice(i + 1),\n\t\t].filter(({editorState}) => editorState.getSelection().getHasFocus() ||\n\t\t\teditorState.getCurrentContent().hasText() || lastFocus === i);\n\n\t\t// Persist the current state to localStorage and state.\n\t\tconst rawDraftEditors = JSON.stringify(\n\t\t\tupdatedEditors.map(({x, y, editorState}, j) => ({\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t\teditorRawContent: convertToRaw(((i === j)\n\t\t\t\t\t? newEditorState\n\t\t\t\t\t: editorState\n\t\t\t\t).getCurrentContent()),\n\t\t\t}))\n\t\t);\n\t\twindow.localStorage.setItem(hash, rawDraftEditors);\n\t\tthis.setState({editors: updatedEditors, lastFocus: i});\n\t}\n\n\thandleKeydown = (e) => {\n\t\tconst {key, metaKey} = e;\n\t\tconst {controlMode} = this.state;\n\t\tif (controlMode && !metaKey) {\n\t\t\tswitch (key) {\n\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\tthis.setState(({editors, lastFocus}) => {\n\t\t\t\t\t\tconst editor = editors[lastFocus];\n\t\t\t\t\t\tconst updatedEditors = [\n\t\t\t\t\t\t\t...editors.slice(0, lastFocus),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...editor,\n\t\t\t\t\t\t\t\teditorProps: {\n\t\t\t\t\t\t\t\t\t...editor.editorProps,\n\t\t\t\t\t\t\t\t\ttextAlignment: editor.editorProps.textAlignment === 'right'\n\t\t\t\t\t\t\t\t\t\t? 'center'\n\t\t\t\t\t\t\t\t\t\t: 'left',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t...editors.slice(lastFocus + 1),\n\t\t\t\t\t\t];\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\teditors: updatedEditors,\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\tthis.setState(({editors, lastFocus}) => {\n\t\t\t\t\t\tconst editor = editors[lastFocus];\n\t\t\t\t\t\tconst updatedEditors = [\n\t\t\t\t\t\t\t...editors.slice(0, lastFocus),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...editor,\n\t\t\t\t\t\t\t\teditorProps: {\n\t\t\t\t\t\t\t\t\t...editor.editorProps,\n\t\t\t\t\t\t\t\t\ttextAlignment: editor.editorProps.textAlignment === 'left'\n\t\t\t\t\t\t\t\t\t\t? 'center'\n\t\t\t\t\t\t\t\t\t\t: 'right',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t...editors.slice(lastFocus + 1),\n\t\t\t\t\t\t];\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\teditors: updatedEditors,\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.setState({controlMode: false});\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t} else if (metaKey && key.toLowerCase() === 'e') {\n\t\t\tthis.setState(({controlMode}) => ({controlMode: !controlMode}));\n\t\t}\n\t}\n\n\trender () {\n\t\tconst {controlMode, cX, cY, editors, gridX, hash, lastFocus} = this.state;\n\n\t\treturn hash && (typeof gridX === 'number'\n\t\t\t? <App\n\t\t\t\tclassName={`control-mode-${controlMode ? 'on' : 'off'}`}\n\t\t\t\tcX={cX}\n\t\t\t\tcY={cY}\n\t\t\t\teditors={editors}\n\t\t\t\tlastFocus={lastFocus}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tref={el => this.Container = el}\n\t\t\t/>\n\t\t\t: <span className='Grid-probe' ref={el => this.GridProbe = el}>\n\t\t\t\t{new Array(1000).fill('.').join('')}\n\t\t\t</span>);\n\t}\n}\n\nexport default StatefulAppWrapper;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport StatefulAppWrapper from './StatefulAppWrapper';\nimport './index.css';\n\nReactDOM.render(<StatefulAppWrapper />, document.getElementById('root'));\n"],"sourceRoot":""}